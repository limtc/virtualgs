<html>
	<head>
		<title>Ding Wen</title>
		<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
	</head>
	<body bgcolor="#222222" text="white" link="white" vlink="white">
		<small>
			<pre>
package {
	import flash.net.*;
	import flash.media.*;
	import flash.events.*;
	import flash.display.*;

	public class DingWen extends Sprite {
		var stream:NetStream;

		public function DingWen():void {
			var connection:NetConnection = new NetConnection();
			var video:Video;

			// Add Apple IIGS
			
			drawAppleIIGS();

			// Add video
			
			connection.connect(null);
			
			stream = new NetStream(connection);
			stream.bufferTime = 1;
			stream.addEventListener(AsyncErrorEvent.ASYNC_ERROR, onAsyncError);

			video = new Video(160, 100);
			video.x = 180;
			video.y = 100;	
			video.attachNetStream(stream); 
			addChild(video);

			stream.play("wen.mp4");
		}

		// Handle video download error

		function onAsyncError(event:AsyncErrorEvent):void { }
		
		// Draw Apple IIGS
		
		function drawAppleIIGS():void {
			var keyX:int = 140;
			
			// Draw moniter device
			
			graphics.beginFill(0xeeeeee);
			graphics.drawRoundRect(160,74,200,150,50,50);
			graphics.endFill();
			
			graphics.beginFill(0xffff);
			graphics.drawRoundRect(180,100,160,100,45,45);
			graphics.endFill();
			
			graphics.beginFill(0x777777);
			graphics.drawRect(180,224,160,26);
			graphics.endFill();
						
			// Draw IIGS machine with logo
			
			graphics.beginFill(0xeeeeee);
			graphics.drawRect(160,250,200,50);
			graphics.endFill();
			
			graphics.lineStyle(1,0);
			graphics.drawRect(160,250,200,50);			
			
			graphics.beginFill(0xff0000);
			graphics.drawCircle(185,271,1);
			graphics.drawCircle(185,278,5);
			graphics.endFill();		
			
			// Draw disk drive device
			 
			graphics.beginFill(0xeeeeee);
			graphics.drawRect(360,250,120,50);
			graphics.endFill();
			
			graphics.lineStyle(1,0);
			graphics.drawRect(360,250,120,50);
			
			graphics.moveTo(365,260);
			graphics.lineTo(475,260);
			
			// Draw keyboard & mouse device
			
			graphics.beginFill(0xeeeeee);
			graphics.drawRect(140,330,240,44);
			graphics.endFill();
			
			graphics.lineStyle(1,0);
			graphics.drawRect(140,330,240,44);
			
			for (var i:int = 0; i < 12; i++) {
				graphics.beginFill(0);
				graphics.drawEllipse(keyX,344,20,14);
				graphics.endFill();	
				keyX += 20;
			}
			
			graphics.beginFill(0xeeeeee);
			graphics.drawRoundRect(400,340,40,20,10,10);
			graphics.endFill();				
		}
	}
}			</pre>
		</small>
	</body>
</html>